---
import type { HTMLAttributes } from "astro/types";

import { link } from "./HeaderLink.css";

type Props = HTMLAttributes<"a">;

const { href, ...props } = Astro.props;

const { pathname } = Astro.url;

const subpath = pathname.match(/[^/]+/g);
const isActive = href === pathname || href === "/" + subpath?.[0];
---

<a class:list={[link, { active: isActive }]} href={href} {...props}>
  <slot />
</a>
